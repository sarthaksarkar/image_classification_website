{%extends 'main.html'%}
{% block background_image %}{{background_image}}{% endblock %}
{%block content%}
<form action="image.html" method="post" enctype="multipart/form-data">
<div class="input-group mb-3">
    <div class="input-group-prepend">
      <span class="input-group-text" id="inputGroupFileAddon01"><input type="submit" value="submit"></span>
    </div>
    <div class="custom-file">
      <input type="file" class="custom-file-input" id="inputGroupFile01" aria-describedby="inputGroupFileAddon01" name="im" accept="image/*" required onchange="updateFileName()">
      <label class="custom-file-label" for="inputGroupFile01">Choose file</label>
    </div>
  </div>
</form>
{% with messages=get_flashed_messages() %}
  {% if messages %}
    {% for message in messages %}
      <p class="message-box">{{message}}</p>
    {% endfor %}
  {% endif %}
{% endwith %}

<style>
  .message-box {
    background-color: white;
    color: black;
    border: 1px solid #ccc;
    padding: 10px;
    margin: 10px 0;
    border-radius: 5px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  }
  /* Remove background and customize submit button */
.input-group .input-group-text input[type="submit"] {
    background: none;        /* Removes the background */
    border: none;            /* Removes the border */
    color: inherit;          /* Keeps the text color the same as surrounding text */
    padding: 0;              /* Removes any padding */
    font-size: inherit;      /* Inherits the font size */
    cursor: pointer;        /* Makes it look clickable */
}


</style>
<script>
  function updateFileName() {
    const fileInput = document.getElementById('inputGroupFile01');
    const fileLabel = fileInput.nextElementSibling;
    const fileName = fileInput.files[0]?.name || "Choose file";
    fileLabel.textContent = fileName;
  }
</script>
{%endblock%}